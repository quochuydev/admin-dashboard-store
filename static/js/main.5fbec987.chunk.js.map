{"version":3,"sources":["utils/config.js","utils/upload-adapter.js","components/Editor/index.jsx","components/DropZone/DropZoneComponent.jsx","components/DropZone/index.jsx","pages/admin/products/new/Variants.jsx","pages/admin/products/new/ProductType.jsx","pages/admin/products/new/Active.jsx","pages/admin/products/new/index.jsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["process","UploadAdapter","loader","this","a","data","FormData","file","append","Promise","resolve","reject","axios","url","config","method","then","res","resData","default","files","console","log","catch","error","Editor","initValue","onData","readOnly","editor","ClassicEditor","onReady","plugins","get","createUploadAdapter","basicEntities","ckfinder","uploadUrl","onChange","evt","getData","DropZoneComponent","props","handleDropZoneDrop","validImageTypes","fileUpload","length","DropZone","FileUpload","uploadedFiles","Stack","vertical","map","index","alignment","Thumbnail","size","alt","name","source","includes","type","window","URL","createObjectURL","NoteMinor","Caption","onDrop","useState","setFiles","useCallback","_dropFiles","acceptedFiles","_rejectedFiles","upload","newfiles","Variant","variant","selectedResources","handleChange","removeLine","id","price","title","sku","barcode","image","imageId","IndexTable","Row","selected","position","Cell","TextField","value","String","options","Button","onClick","React","memo","Variants","variants","product","useIndexResourceState","allResourcesSelected","handleSelectionChange","promotedBulkActions","content","onAction","bulkActions","newVariants","e","i","filter","rowMarkup","key","headings","Card","resourceName","singular","plural","itemCount","selectedItemsCount","onSelectionChange","AutocompleteComponent","selectedOptions","allowMultiple","deselectedOptions","label","inputValue","setInputValue","setOptions","loading","setLoading","updateText","setTimeout","filterRegex","RegExp","resultOptions","option","match","updateSelection","join","textField","Autocomplete","placeholder","emptyState","icon","Icon","PlusMinor","onSelect","Active","Select","OfficeProductNew","handle","description","productType","vendor","tags","isActive","setData","useEffect","response","items","setFieldValue","addVariant","push","onSubmit","preventDefault","result","Layout","Section","submit","secondary","ProductType","JSON","stringify","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","AppProvider","i18n","enTranslations","document","getElementById"],"mappings":"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","file":"static/js/main.5fbec987.chunk.js","sourcesContent":["export default {\n  server: process.env.REACT_APP_BACKEND_URL || \"http://localhost:5000\",\n};\n","import axios from \"axios\";\nimport config from \"./config\";\n\nexport default class UploadAdapter {\n  constructor(loader) {\n    this.loader = loader;\n  }\n\n  async upload() {\n    const data = new FormData();\n    const file = await this.loader.file;\n    data.append(\"files\", file);\n    return new Promise((resolve, reject) => {\n      axios({\n        url: `${config.server}/files`,\n        method: \"post\",\n        data,\n      })\n        .then((res) => {\n          var resData = res.data;\n          resData.default = resData.files[0].url;\n          console.log(\"resData.files[0].url\", resData.files[0].url);\n          resolve(resData);\n        })\n        .catch((error) => {\n          console.log(error);\n          reject(error);\n        });\n    });\n  }\n\n  abort() {}\n}\n","import React from 'react';\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport UploadAdapter from \"../../utils/upload-adapter\";\nimport config from \"../../utils/config\";\n\nconst Editor = ({ initValue, readOnly, onData }) => {\n  const handleChange = (evt, editor) => {\n    onData(editor.getData());\n  };\n\n  const onReady = (editor) => {\n    editor.plugins.get(\"FileRepository\").createUploadAdapter = function (loader) {\n      return new UploadAdapter(loader);\n    };\n  };\n\n  return (\n    <CKEditor\n      editor={ClassicEditor}\n      data={initValue}\n      onReady={onReady}\n      config={{\n        basicEntities: false,\n        ckfinder: {\n          uploadUrl: `${config.server}/files`,\n        },\n      }}\n      onChange={handleChange}\n    />\n  );\n};\n\nexport default Editor;\n","import { DropZone, Stack, Thumbnail, Caption } from \"@shopify/polaris\";\nimport { NoteMinor } from '@shopify/polaris-icons';\n\nexport default DropZoneComponent;\n\nfunction DropZoneComponent(props) {\n    const { files, handleDropZoneDrop } =props\n    const validImageTypes = ['image/gif', 'image/jpeg', 'image/png'];\n  \n    const fileUpload = !files.length && <DropZone.FileUpload />;\n    const uploadedFiles = files.length > 0 && (\n      <Stack vertical>\n        {files.map((file, index) => (\n          <Stack alignment=\"center\" key={index}>\n            <Thumbnail\n              size=\"small\"\n              alt={file.name}\n              source={\n                validImageTypes.includes(file.type)\n                  ? window.URL.createObjectURL(file)\n                  : NoteMinor\n              }\n            />\n            <div>\n              {file.name} <Caption>{file.size} bytes</Caption>\n            </div>\n          </Stack>\n        ))}\n      </Stack>\n    );\n  \n    return (\n      <DropZone onDrop={handleDropZoneDrop}>\n        {uploadedFiles}\n        {fileUpload}\n      </DropZone>\n    );\n  }","import { useState, useCallback } from \"react\";\nimport DropZoneComponent from './DropZoneComponent'\n\nexport default DropZone;\n\nfunction DropZone(props) {\n  const [files, setFiles] = useState([]);\n\n  const handleDropZoneDrop = useCallback(\n    async (_dropFiles, acceptedFiles, _rejectedFiles) => {\n      console.log(acceptedFiles);\n      if(props.upload){\n        const newfiles = await props.upload(acceptedFiles);\n        return setFiles((files) => [...files, ...newfiles])\n      }\n      return setFiles((files) => [...files, ...acceptedFiles])\n    },\n    [],\n  );\n\n  return <DropZoneComponent files={files} handleDropZoneDrop={handleDropZoneDrop} />\n}","import React, { useCallback } from \"react\";\nimport { useIndexResourceState, IndexTable, Card, TextField, Thumbnail, Button } from \"@shopify/polaris\";\nimport { NoteMinor } from '@shopify/polaris-icons';\n\nfunction Variant(props){\n  const { variant, index, selectedResources, handleChange, removeLine } = props\n  const { id, title, price, sku, barcode, imageId, image } = variant;\n\n  return <IndexTable.Row\n    id={index}\n    key={id}\n    selected={selectedResources.includes(index)}\n    position={index}\n  >\n    <IndexTable.Cell>\n        <Thumbnail source={image || NoteMinor} />  \n    </IndexTable.Cell>\n    {/* <IndexTable.Cell>\n        <TextField value={title} onChange={value => handleChange(index, 'title', value)} />\n    </IndexTable.Cell> */}\n    <IndexTable.Cell>\n        <TextField value={String(price)} onChange={value => handleChange(index, 'price', value)} type=\"number\" />\n    </IndexTable.Cell>\n    <IndexTable.Cell>\n        <TextField value={sku} onChange={value => handleChange(index, 'sku', value)} />\n    </IndexTable.Cell>\n    <IndexTable.Cell>\n        <TextField value={barcode} onChange={value => handleChange(index, 'barcode', value)} />\n    </IndexTable.Cell>\n    <IndexTable.Cell>\n        <TextField value={variant.options[0]} onChange={value => handleChange(index, 'options', [value, variant.options[1]])} />\n    </IndexTable.Cell>\n    <IndexTable.Cell>\n        <TextField value={variant.options[1]} onChange={value => handleChange(index, 'options', [variant.options[0], value])} />\n    </IndexTable.Cell>\n    <IndexTable.Cell>\n      <Button onClick={() => removeLine(index)}>Remove</Button>\n    </IndexTable.Cell>\n  </IndexTable.Row>\n}\n\nexport default React.memo(Variants);\n\nfunction Variants(props) {\n  const { product } = props;\n  const { variants } = product;\n  \n  const resourceName = {\n    singular: 'variant',\n    plural: 'variants',\n  };\n\n  const {\n    selectedResources,\n    allResourcesSelected,\n    handleSelectionChange,\n  } = useIndexResourceState(variants);\n\n  const promotedBulkActions = [\n    {\n      content: 'Edit variants',\n      onAction: () => console.log('Todo: implement bulk edit', selectedResources),\n    },\n  ];\n\n  const bulkActions = [\n    {\n      content: 'Delete variants',\n      onAction: () => console.log('Todo: implement bulk delete', selectedResources),\n    },\n  ];\n\n  const handleChange = useCallback((index, name, value) => {\n    const newVariants = variants.map((e, i) => (i === index ? ({ ...e, [name]: value }) : e));\n    props.onData(newVariants);\n  }, [props, variants]);\n\n\n  const removeLine = (index) => {\n    const newVariants = variants.filter((e, i) => i !== index);\n    props.onData(newVariants);\n  }\n\n  const rowMarkup = variants.map(\n    (variant, index) => <Variant {...{ key: index, variant, index, selectedResources, handleChange, removeLine }}/>\n  );\n\n  const headings = [\n    {title: 'Image'},\n    // {title: 'Title'},\n    {title: 'Price'},\n    {title: 'SKU'},\n    {title: 'Barcode'},\n    {title: <>Option 1</>},\n    {title: 'Option 2'}\n  ]\n\n  return (\n    <Card>\n      <IndexTable\n        resourceName={resourceName}\n        itemCount={variants.length}\n        selectedItemsCount={allResourcesSelected ? 'All' : selectedResources.length}\n        onSelectionChange={handleSelectionChange}\n        bulkActions={bulkActions}\n        promotedBulkActions={promotedBulkActions}\n        headings={headings}\n      >\n        {rowMarkup}\n      </IndexTable>\n    </Card>\n  );\n}","import React, { useState, useCallback } from \"react\";\nimport { Icon, Button, Autocomplete } from \"@shopify/polaris\";\nimport { PlusMinor } from '@shopify/polaris-icons';\n\nexport default React.memo(AutocompleteComponent);\n\nfunction AutocompleteComponent(props) {\n  const { value: selectedOptions, allowMultiple = false } = props;\n\n  const deselectedOptions = [\n    {value: 'type1', label: 'Type 1'},\n    {value: 'type2', label: 'Type 2'},\n    {value: 'type3', label: 'Type 3'},\n  ];\n\n  const [inputValue, setInputValue] = useState(selectedOptions);\n  const [options, setOptions] = useState(deselectedOptions);\n  const [loading, setLoading] = useState(false);\n\n  const updateText = useCallback(\n    (value) => {\n      setInputValue(value);\n\n      if (!loading) {\n        setLoading(true);\n      }\n\n      setTimeout(() => {\n        if (value === '') {\n          setOptions(deselectedOptions);\n          setLoading(false);\n          return;\n        }\n        const filterRegex = new RegExp(value, 'i');\n        const resultOptions = options.filter((option) =>\n          option.label.match(filterRegex),\n        );\n        setOptions(resultOptions);\n        setLoading(false);\n      }, 300);\n    },\n    [deselectedOptions, loading, options],\n  );\n\n  const updateSelection = useCallback(\n    (selected) => {\n      props.onData(selected)\n      setInputValue(allowMultiple ? selected.join(', ') : selected[0]);\n    },\n    [options],\n  );\n\n  const textField = (\n    <Autocomplete.TextField\n      onChange={updateText}\n      label=\"Product type\"\n      value={inputValue}\n      placeholder=\"exp: T-Shirt\"\n    />\n  );\n\n  const emptyState = (\n    <Button icon={<Icon source={PlusMinor} />}>Add new: {inputValue}</Button>\n  );\n\n  return (\n    <Autocomplete\n      allowMultiple={allowMultiple}\n      options={options}\n      selected={selectedOptions}\n      onSelect={updateSelection}\n      emptyState={emptyState}\n      loading={loading}\n      textField={textField}\n    />\n  );\n}","import React, { useState, useCallback } from \"react\";\nimport { Select, Stack, DataTable, Tag } from \"@shopify/polaris\";\n\nexport default function Active(props){\n    const options = [\n        { label: 'Is active', value: true },\n        { label: 'Is draft', value: false }\n    ]\n\n    return <Select options={options} onChange={props.onData} value={props.value} />\n}","import { useEffect, useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { Layout, Button, Checkbox, TextField } from \"@shopify/polaris\";\n\nimport config from '../../../../utils/config'\nimport Editor from '../../../../components/Editor'\nimport DropZone from '../../../../components/DropZone'\nimport Variants from './Variants'\nimport ProductType from './ProductType'\nimport Vendor from './ProductType'\nimport Tags from './ProductType'\nimport Active from './Active'\n\nexport default function OfficeProductNew() {\n  const [data, setData] = useState({\n    title: null,\n    handle: null,\n    description: null,\n    options: [],\n    productType: null,\n    vendor: null,\n    tags: [],\n    isActive: true,\n    variants: [\n      {\n        imageId: null,\n        title: null,\n        sku: null,\n        barcode: null,\n        price: 0,\n        options: [],\n      },\n    ],\n  });\n\n  useEffect(() => {\n    const options = {\n      method: \"get\",\n      url: `${config.server}/orders`,\n    }\n    axios(options)\n      .then(function (response) {\n        console.log(response.data?.items);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }, []);\n\n  function onSubmit(e) {\n    e.preventDefault()\n    console.log(data);\n\n    axios({\n      url: `${config.server}/products`,\n      method: \"post\",\n      data,\n    })\n      .then((res) => {\n        var result = res.data;\n        console.log(\"result\", result);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  const setFieldValue = useCallback(\n    (name, value) => setData(data => ({ ...data, [name]: value })),\n    [],\n  );\n\n  const addVariant = useCallback(\n    () => {\n      const variants = [...data.variants];\n      variants.push({\n        imageId: null,\n        title: null,\n        sku: null,\n        barcode: null,\n        price: 0,\n        options: [],\n      })\n      setData(data => ({ ...data, variants }))\n    },\n    [data],\n  );\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <Layout>\n          <Layout.Section>\n            <TextField label=\"Title\" value={data.title} onChange={e => setFieldValue('title', e)} />\n            <Editor initValue={data.description} onData={e => setFieldValue('description', e)} />\n            <DropZone product={data} upload={async (files) => {\n              const data = new FormData();\n              data.append(\"files\", files);\n              return new Promise((resolve, reject) => {\n                axios({\n                  url: `${config.server}/files`,\n                  method: \"post\",\n                  data,\n                })\n                  .then((res) => {\n                    console.log(\"resData.files\", res.data);\n                    resolve(res.data);\n                  })\n                  .catch((error) => {\n                    console.log(error);\n                    reject(error);\n                  });\n              });\n            }}/>\n            <Button onClick={addVariant}>Add variant</Button>\n            <Variants product={data} onData={e => setFieldValue('variants', e)}/>\n            <Button submit>Save</Button>\n          </Layout.Section>\n          <Layout.Section secondary>\n            <Active value={data.isActive} onData={e => setFieldValue('isActive', e)}/>\n            <ProductType value={data.productType} onData={e => setFieldValue('productType', ...e)}/>\n            <Vendor value={data.vendor} onData={e => setFieldValue('vendor', ...e)}/>\n            <Tags value={data.tags} onData={e => setFieldValue('tags', e)} allowMultiple={true}/>\n            <p>{JSON.stringify(data, null, 2)}</p>\n          </Layout.Section>\n        </Layout>\n      </form>\n    </>\n  );\n}\n","import React from \"react\";\nimport OfficeProductsNew from \"./pages/admin/products/new\";\n\nfunction App() {\n  return (\n    <div>\n      <OfficeProductsNew />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport enTranslations from \"@shopify/polaris/locales/en.json\";\nimport { AppProvider } from \"@shopify/polaris\";\nimport \"@shopify/polaris/dist/styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider i18n={enTranslations}>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}